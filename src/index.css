@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Lora&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap");
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* BRUTALISMO 2026 - Modo Claro */
    --background: 0 0% 98%; /* #FAFAFA Blanco brutal */
    --foreground: 0 0% 8%; /* #141414 Negro */

    --card: 0 0% 100%;
    --card-foreground: 0 0% 8%;

    --popover: 0 0% 89.8039%;
    --popover-foreground: 30 6.25% 25.098%;

    /* Primario - Rojo Brutal */
    --primary: 348 83% 47%; /* #DC143C Rojo Ala Norte */
    --primary-foreground: 0 0% 98%;
    --primary-hover: 343 100% 33%; /* #A7002F */
    --primary-light: 355 82% 60%; /* #EF4350 */
    --primary-dark: 343 100% 22%; /* #6E0022 */

    /* Secundario - Gris Brutal */
    --secondary: 0 0% 20%; /* #333333 Gris oscuro */
    --secondary-foreground: 0 0% 98%;
    --secondary-hover: 0 0% 15%;

    /* Neutrales Brutales */
    --muted: 0 0% 90%; /* #E5E5E5 */
    --muted-foreground: 0 0% 30%; /* #4D4D4D */

    --accent: 356 91% 59%; /* Rojo para acentos */
    --accent-foreground: 0 0% 98%;

    --destructive: 348 83% 47%;
    --destructive-foreground: 0 0% 98%;

    --border: 0 0% 0% / 0%; /* Bordes eliminados - transparente */
    --input: 0 0% 8%;
    --ring: 348 83% 47%;

    --radius: 0.125rem; /* Sin border-radius: BRUTAL */

    /* Border widths - editables desde tokens */
    --border-width-none: 0px;
    --border-width-default: 1px;
    --border-width-thin: 1px;
    --border-width-thick: 1px;
    --border-width-brutal: 1px;

    /* Grises Brutales */
    --gray-dark: 0 0% 15%; /* #262626 */
    --gray-medium: 0 0% 40%; /* #666666 */
    --gray-light: 0 0% 70%; /* #B3B3B3 */
    --gray-lighter: 0 0% 90%; /* #E5E5E5 */

    /* Tritone Filter Colors */
    --tritone-high: 0 0% 98%; /* Color para tonos altos (áreas claras) */
    --tritone-mid: 0 0% 15%; /* Color para tonos medios (áreas medias) */
    --tritone-low: 0 0% 8%; /* Color para tonos bajos (áreas oscuras) */

    /* Sombras Brutales - Duras y sin blur pero sutiles */
    --shadow-brutal: 2px 2px 0 hsl(0 0% 8%);
    --shadow-brutal-sm: 1px 1px 0 hsl(0 0% 8%);
    --shadow-brutal-lg: 3px 3px 0 hsl(0 0% 8%);
    --shadow-brutal-red: 2px 2px 0 hsl(348 83% 47%);

    /* Gradientes Brutales */
    --gradient-primary: linear-gradient(135deg, hsl(348 83% 47%), hsl(343 100% 33%));
    --gradient-hero: linear-gradient(135deg, hsl(0 0% 8% / 0.95), hsl(348 83% 47% / 0.85));

    /* Degradado Plateado Sutil para Bordes */
    --border-gradient-silver: linear-gradient(135deg, #e5e7eb, #9ca3af);
    --border-gradient-silver-vertical: linear-gradient(180deg, #e5e7eb, #9ca3af);

    /* Transiciones Brutales - Instantáneas o mecánicas */
    --transition-brutal: all 0.1s linear;
    --transition-none: none;
    --shadow-sm: 1px 1px 2px -1px hsl(240, 4%, 46%);
    --shadow: 1px 1px 3px -1px hsl(240, 4%, 46%);
    --shadow-md: 1px 1px 5px -1px hsl(240, 4%, 46%);
    --shadow-lg: 1px 1px 3px -1px hsl(240, 4%, 46%);
    --font-sans:
      Poppins, ui-sans-serif, system-ui, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol,
      Noto Color Emoji;
    --font-serif: Lora, ui-serif, Georgia, Cambria, Times New Roman, Times, serif;
    --font-mono:
      "Roboto Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace;
  }

  .dark {
    /* BRUTALISMO 2026 - Modo Oscuro */
    --background: 0 0% 8%; /* #141414 Negro brutal */
    --foreground: 0 0% 98%; /* #FAFAFA */

    --card: 0 0% 12%; /* #1F1F1F */
    --card-foreground: 0 0% 98%;

    --popover: 0 0% 12%;
    --popover-foreground: 0 0% 98%;

    --primary: 348 83% 47%; /* #DC143C */
    --primary-foreground: 0 0% 98%;
    --primary-hover: 343 100% 33%;
    --primary-light: 355 82% 60%;
    --primary-dark: 343 100% 22%;

    --secondary: 0 0% 20%; /* Gris oscuro */
    --secondary-foreground: 0 0% 98%;
    --secondary-hover: 0 0% 15%;

    --muted: 0 0% 20%;
    --muted-foreground: 0 0% 70%;

    --accent: 348 83% 47%; /* Rojo para acentos */
    --accent-foreground: 0 0% 98%;

    --destructive: 348 83% 47%;
    --destructive-foreground: 0 0% 98%;

    --border: 0 0% 98%; /* Bordes blancos en oscuro */
    --input: 0 0% 98%;
    --ring: 348 83% 47%;

    --gray-dark: 0 0% 15%;
    --gray-medium: 0 0% 40%;
    --gray-light: 0 0% 70%;
    --gray-lighter: 0 0% 90%;

    /* Tritone Filter Colors */
    --tritone-high: 0 0% 98%; /* Color para tonos altos (áreas claras) */
    --tritone-mid: 0 0% 45%; /* Color para tonos medios (áreas medias) */
    --tritone-low: 0 0% 8%; /* Color para tonos bajos (áreas oscuras) */

    --shadow-brutal: 4px 4px 0 hsl(0 0% 98%);
    --shadow-brutal-sm: 2px 2px 0 hsl(0 0% 98%);
    --shadow-brutal-lg: 6px 6px 0 hsl(0 0% 98%);
    --shadow-brutal-red: 4px 4px 0 hsl(348 83% 47%);

    /* Degradado Plateado Sutil para Bordes - Modo Oscuro */
    --border-gradient-silver: linear-gradient(135deg, #4b5563, #6b7280);
    --border-gradient-silver-vertical: linear-gradient(180deg, #4b5563, #6b7280);
    --radius: 0rem;
    --shadow-sm: 0px 6px 1.5px 0px hsla(0, 0%, 0%, 0.1);
    --shadow: 0px 6px 3px 0px hsla(0, 0%, 0%, 0.1);
    --shadow-md: 0px 6px 4.5px 0px hsla(0, 0%, 0%, 0.1);
    --shadow-lg: 0px 6px 7.5px 0px hsla(0, 0%, 0%, 0.1);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-weight: 400;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-heading uppercase tracking-wider text-left;
    font-weight: 800;
  }

  p,
  .prose p,
  span:not(.sr-only):not([class*="button"]):not([class*="btn"]) {
    @apply text-left;
  }

  strong,
  b,
  .font-bold {
    font-weight: 800;
  }

  h1 {
    @apply text-6xl md:text-8xl;
  }

  h2 {
    @apply text-5xl md:text-7xl;
  }

  h3 {
    @apply text-3xl md:text-5xl;
  }
}

@layer utilities {
  /* Efectos Brutales */
  .shadow-brutal {
    box-shadow: var(--shadow-brutal);
  }

  .shadow-brutal-sm {
    box-shadow: var(--shadow-brutal-sm);
  }

  .shadow-brutal-lg {
    box-shadow: var(--shadow-brutal-lg);
  }

  .shadow-brutal-red {
    box-shadow: var(--shadow-brutal-red);
  }

  .border-brutal {
    border-width: var(--border-width-brutal, 1px);
    @apply border-foreground;
  }

  /* Borde Degradado Plateado Sutil */
  .border-silver-gradient {
    border: 1px solid transparent;
    background:
      linear-gradient(hsl(var(--background)), hsl(var(--background))) padding-box,
      var(--border-gradient-silver) border-box;
  }

  /* Separador con Degradado Plateado */
  .separator-silver-gradient {
    background-image: var(--border-gradient-silver);
  }

  .transition-brutal {
    transition: var(--transition-brutal);
  }

  .transition-none {
    transition: var(--transition-none);
  }

  /* Hover Brutales - Instantáneos */
  .hover-brutal {
    @apply transition-none hover:shadow-brutal;
  }

  .hover-brutal-red {
    @apply transition-none hover:shadow-brutal-red hover:-translate-x-1 hover:-translate-y-1;
  }

  /* Gradientes */
  .gradient-primary {
    background: var(--gradient-primary);
  }

  .gradient-hero {
    background: var(--gradient-hero);
  }

  .gradient-green {
    background: var(--gradient-green);
  }

  /* Tipografía Brutal */
  .text-brutal {
    @apply font-heading uppercase tracking-wider;
  }

  .text-glitch {
    animation: glitch 0.3s steps(5) infinite;
  }

  @keyframes glitch {
    0% {
      transform: translate(0);
    }
    20% {
      transform: translate(-2px, 2px);
    }
    40% {
      transform: translate(2px, -2px);
    }
    60% {
      transform: translate(-2px, -2px);
    }
    80% {
      transform: translate(2px, 2px);
    }
    100% {
      transform: translate(0);
    }
  }

  /* Responsive Grid System 12/8/4 */
  .grid-responsive {
    display: grid;
    gap: 1rem;
    grid-template-columns: repeat(4, 1fr);
  }

  @media (min-width: 720px) {
    .grid-responsive {
      grid-template-columns: repeat(8, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .grid-responsive {
      grid-template-columns: repeat(12, 1fr);
      gap: 1.5rem;
    }
  }

  /* Z-Index Layers */
  .z-base {
    z-index: 1;
  }
  .z-content {
    z-index: 10;
  }
  .z-sticky {
    z-index: 20;
  }
  .z-dropdown {
    z-index: 50;
  }
  .z-modal {
    z-index: 100;
  }
  .z-toast {
    z-index: 200;
  }

  /* Rich text editor styles */
  .prose {
    @apply text-foreground;
  }

  .prose h2 {
    @apply text-3xl font-heading mt-8 mb-4;
  }

  .prose h3 {
    @apply text-2xl font-heading mt-6 mb-3;
  }

  .prose p {
    @apply mb-4 leading-relaxed;
  }

  .prose ul,
  .prose ol {
    @apply mb-4 ml-6;
  }

  .prose a {
    @apply text-primary underline hover:no-underline;
  }

  .prose img {
    @apply rounded-none my-6 border border-foreground;
  }

  .prose blockquote {
    @apply border-l border-primary pl-4 italic my-6;
  }
}

/* React Quill editor styles */
.ql-toolbar {
  @apply border-b-2 border-foreground bg-background rounded-t-none !important;
}

.ql-container {
  @apply border-0 bg-background !important;
}

.ql-editor {
  @apply min-h-[300px] text-foreground !important;
}

/* Hide scrollbar for category tabs */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Tritone effect for videos and images (tres tonos: background, gray-dark, foreground) - Clave baja */
.duotone-hover-group {
  position: relative;
}

.video-duotone,
.image-duotone {
  /* Convertir a escala de grises con alto contraste para mejor mapeo de luminosidad */
  filter: grayscale(1) contrast(1) brightness(1);
  transition: filter 0.2s ease;
  position: relative;
}

/* Overlay tritone que mapea luminosidad a tres colores: background (altos), gray-dark (medios), foreground (bajos) */
.duotone-hover-group::before {
  content: "";
  position: absolute;
  inset: 0;
  /* Mapeo tritone: tonos altos -> background, medios -> gray-dark, bajos -> foreground */
  /* Usar un gradiente que mapee la luminosidad de la imagen debajo */
  background: linear-gradient(
    to bottom,
    hsl(var(--tritone-high)) 0%,
    hsl(var(--tritone-high)) 50%,
    hsl(var(--tritone-mid)) 50%,
    hsl(var(--tritone-mid)) 50.1%,
    hsl(var(--tritone-low)) 50.1%,
    hsl(var(--tritone-low)) 100%
  );
  /* Usar color para mapear basándose en la luminosidad de la imagen */
  mix-blend-mode: color;
  opacity: 1;
  pointer-events: none;
  z-index: 1;
  transition: opacity 0.3s ease;
}

.dark .duotone-hover-group::before {
  mix-blend-mode: color;
  opacity: 1;
  background: linear-gradient(
    to bottom,
    hsl(var(--tritone-high)) 0%,
    hsl(var(--tritone-high)) 50%,
    hsl(var(--tritone-mid)) 50%,
    hsl(var(--tritone-mid)) 50.1%,
    hsl(var(--tritone-low)) 50.1%,
    hsl(var(--tritone-low)) 100%
  );
}

/* Viñeta permanente del 15% con color #1e1319 */
.duotone-hover-group::after {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse at center, transparent 0%, transparent 50%, #1e1319 100%);
  opacity: 0.25;
  pointer-events: none;
  z-index: 2;
}

/* Desktop hover = colores originales (también cuando hay overlays arriba del elemento) */
.video-duotone:hover,
.image-duotone:hover,
.duotone-hover-group:hover .video-duotone,
.duotone-hover-group:hover .image-duotone,
.dark .video-duotone:hover,
.dark .image-duotone:hover,
.dark .duotone-hover-group:hover .video-duotone,
.dark .duotone-hover-group:hover .image-duotone {
  filter: none !important;
}

.duotone-hover-group:hover::before,
.dark .duotone-hover-group:hover::before {
  opacity: 0 !important;
}

/* Mobile tap override (via JS): cuando está activo, mostrar colores originales */
.duotone-hover-group.duotone-tap-active .video-duotone,
.duotone-hover-group.duotone-tap-active .image-duotone,
.video-duotone.duotone-tap-active,
.image-duotone.duotone-tap-active {
  filter: none !important;
}

.duotone-hover-group.duotone-tap-active::before,
.dark .duotone-hover-group.duotone-tap-active::before {
  opacity: 0 !important;
}
